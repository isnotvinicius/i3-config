#!/bin/bash

# Define the voting and status commands
VOTE_STATUS="curl 'https://suamusica.com.br/api/play' -X POST -H 'User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:133.0) Gecko/20100101 Firefox/133.0' -H 'Accept: application/json, text/plain, */*' -H 'Accept-Language: en-US,en;q=0.5' -H 'Accept-Encoding: gzip, deflate, br, zstd' -H 'Content-Type: application/json' -H 'Access-Control-Allow-Origin: *' -H 'appplatform: web' -H 'appversioncode: 1037' -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MCwiZXhwIjoxNzM0NTUzMzg3LCJpYXQiOjE3MzQ1NTMzODIsImlzcyI6InN1YW11c2ljYS5jb20uYnIiLCJzdWIiOiJzdWFtdXNpY2EuY29tLmJyIn0.v0DdKU2HuLLjVUO515RhFrP94OXiPWC_l8SqBjej8rc' -H 'Origin: https://suamusica.com.br' -H 'Connection: keep-alive' -H 'Referer: https://suamusica.com.br/conectavozbahia2024/conecta-voz-final' -H 'Cookie: _sp_ses.6776=*; _sp_id.6776=9c0c677e-6192-46b4-9edc-4345cbce0a11.1734551218.1.1734553382..2b32bc5b-c18c-41cd-920f-fe3aa5a8cdd7..3d6ba1c2-2fb4-44ff-8e3b-32288bafd059.1734551218430.26; Preload=true; spotim_visitId={%22creationDate%22:%22Wed%20Dec%2018%202024%2016:47:01%20GMT-0300%20(Brasilia%20Standard%20Time)%22%2C%22duration%22:1587}; __stripe_mid=ded5e234-9feb-4a90-9da9-7eadc27b85b4b291f1; __stripe_sid=3b34c72d-1f77-41f1-be7e-913131aa17a0bc0635; CloudFront-Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly8qLnN1YW11c2ljYS5jb20uYnIqIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNzM0NTk0NDgwfX19XX0_; CloudFront-Signature=KzH-MFpiZle-FS-gdaOGrnS0nkfYpp5M1Ml2AoocbzYFGZkcYqUHgJHIqKkZD8Ex3yOgQiOSs2w6V-PBYjy5-61r6AolSmXP~XI~5gvMUotJ-rYxi2~zX5RxSavB-x4HWqt-zr~-k3I7Eto7oPfo491Dm7Kb2x21mGvl9AbpBtQHc0GqfzJMRU1MteyUxTTy-ux8Cb50q~RiGgSVAC7GZm1Oyp3TQoCcTGf4XQXCAjOygE0qaMuQ~HdenmFrZAAODykaol9avcGIov7HNsF2Q3w9kTU-ocC0xugWKHSkjAm-xya3Kj-0fTX3rg6eNXJkVv~pQozzL9cNXtBFNaA0~A__; CloudFront-Key-Pair-Id=APKAJXI72ADZRFKVIR2Q; CloudFront-Expires=1734594480' -H 'Sec-Fetch-Dest: empty' -H 'Sec-Fetch-Mode: cors' -H 'Sec-Fetch-Site: same-origin' -H 'TE: trailers' --data-raw '{\"params\":\"eyJhbGJ1bUlkIjo0NTgxOTY0LCJhcnFJZCI6NTk5MjA1NDcsInBsYXlsaXN0SWQiOjAsIm5ld2dhaWQiOjMyNDQxNDg3MDQwNjEzNjZ9\"}'"

VOTE_SCRIPT="curl 'https://suamusica.com.br/_next/data/webid-1037/pt-BR/conectavozbahia2024/conecta-voz-final.json' --compressed -H 'User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:133.0) Gecko/20100101 Firefox/133.0' -H 'Accept: */*' -H 'Accept-Language: en-US,en;q=0.5' -H 'Accept-Encoding: gzip, deflate, br, zstd' -H 'Referer: https://suamusica.com.br/conectavozbahia2024/conecta-voz-final' -H 'purpose: prefetch' -H 'x-nextjs-data: 1' -H 'Connection: keep-alive' -H 'Cookie: _sp_ses.6776=*; _sp_id.6776=9c0c677e-6192-46b4-9edc-4345cbce0a11.1734551218.1.1734551788..2b32bc5b-c18c-41cd-920f-fe3aa5a8cdd7..3d6ba1c2-2fb4-44ff-8e3b-32288bafd059.1734551218430.13; Preload=true; spotim_visitId={%22creationDate%22:%22Wed%20Dec%2018%202024%2016:47:01%20GMT-0300%20(Brasilia%20Standard%20Time)%22%2C%22duration%22:558}; __stripe_mid=ded5e234-9feb-4a90-9da9-7eadc27b85b4b291f1; __stripe_sid=3b34c72d-1f77-41f1-be7e-913131aa17a0bc0635; CloudFront-Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly8qLnN1YW11c2ljYS5jb20uYnIqIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNzM0NTk0NDgwfX19XX0_; CloudFront-Signature=KzH-MFpiZle-FS-gdaOGrnS0nkfYpp5M1Ml2AoocbzYFGZkcYqUHgJHIqKkZD8Ex3yOgQiOSs2w6V-PBYjy5-61r6AolSmXP~XI~5gvMUotJ-rYxi2~zX5RxSavB-x4HWqt-zr~-k3I7Eto7oPfo491Dm7Kb2x21mGvl9AbpBtQHc0GqfzJMRU1MteyUxTTy-ux8Cb50q~RiGgSVAC7GZm1Oyp3TQoCcTGf4XQXCAjOygE0qaMuQ~HdenmFrZAAODykaol9avcGIov7HNsF2Q3w9kTU-ocC0xugWKHSkjAm-xya3Kj-0fTX3rg6eNXJkVv~pQozzL9cNXtBFNaA0~A__; CloudFront-Key-Pair-Id=APKAJXI72ADZRFKVIR2Q; CloudFront-Expires=1734594480' -H 'Sec-Fetch-Dest: empty' -H 'Sec-Fetch-Mode: cors' -H 'Sec-Fetch-Site: same-origin' -H 'If-None-Match: \"m87tu2yeou1xwf\"' -H 'Priority: u=4' -H 'TE: trailers' | jq -r '.pageProps.album.plays'"

echo "Voting 1000 times..."
for ((i=1; i<=10000; i++)); do
  eval "$VOTE_STATUS"
curl 'https://web-stream.suamusica.com.br/62350466/4581964/stream/Layla+Lopes+-+O+Segredo+do+Vento.m3u8' -H 'User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:133.0) Gecko/20100101 Firefox/133.0' -H 'Accept: */*' -H 'Accept-Language: en-US,en;q=0.5' -H 'Accept-Encoding: gzip, deflate, br, zstd' -H 'Origin: https://suamusica.com.br' -H 'Connection: keep-alive' -H 'Referer: https://suamusica.com.br/' -H 'Cookie: __stripe_mid=ded5e234-9feb-4a90-9da9-7eadc27b85b4b291f1; spotim_visitId={%22visitId%22:%22fc3b5a06-52dd-4fa0-a6b7-1fa70e50ee3e%22%2C%22creationDate%22:%22Thu%20Dec%2019%202024%2008:26:05%20GMT-0300%20(Brasilia%20Standard%20Time)%22%2C%22duration%22:8}; __stripe_sid=31fe1765-34a5-4f01-b1c8-aee8cd45e246086596; CloudFront-Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly8qLnN1YW11c2ljYS5jb20uYnIqIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNzM0NjUwNzg2fX19XX0_; CloudFront-Signature=eXNw3HJO9xx0ser-g5a3LI-FVfOpa7nbvSmUcUlKYn~HC5ckQmJxa~a6Lu5NbsvyqV8-jxy6Q1fl2QaWULvN-UkdeBS~p2XbugXIG-j6Yf0M3-9hORuWtXPCEs3RMOGx2mNYNseiRJ~jx3IsDvD4ZOHuUXES-z9IsxL5zufxewcM12G-Pdl7-zEy8PMkaRnkzdNTwWxUcDqqNN8q9zbkGLx8584enxkAK4ItjK3t81l~8c1s57f-Kv5mYa1s~7uNnXhwmER1hE5pyzDzS8zdf9qeNU6wdSKCE~bIcJ39WKRzuP197MCVKupmbdPLFMiIRH3Y91mvyUoCug0uM-n7bw__; CloudFront-Key-Pair-Id=APKAJXI72ADZRFKVIR2Q; CloudFront-Expires=1734650786' -H 'Sec-Fetch-Dest: empty' -H 'Sec-Fetch-Mode: cors' -H 'Sec-Fetch-Site: same-site' -H 'TE: trailers'
  echo "Vote #$i submitted."
  sleep 10 # Optional delay to avoid server detection
done

# Check the status
echo "Fetching vote status..."
eval "$VOTE_SCRIPT"
